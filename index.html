<!DOCTYPE html>
<html lang="ku" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù¾Ù„Ø§Ù†ÛŒ Ù‚Û•Ø±Ø²Û•Ú©Ø§Ù†ÛŒ Ø¹Ø¨Ø¯Ù„Ø¨Ø§Ù‚ÛŒ</title>
    <head>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
<link rel="apple-touch-icon" href="ABlogo.jpeg">
<link rel="icon" href="ABlogo.jpeg" type="image/jpeg">

<link rel="manifest" href="data:application/json;base64,ewogICJuYW1lIjogIlFhcnogUGxhbm5lciIsCiAgInNob3J0X25hbWUiOiAiUWFyeiIsCiAgInN0YXJ0X3VybCI6ICIuIiwKICAiZGlzcGxheSI6ICJzdGFuZGFsb25lIiwKICAiYmFja2dyb3VuZF9jb2xvciI6ICIjZjhmYWZjIiwKICAidGhlbWVfY29sb3ciOiAiIzI1NjNlYiIsCiAgImljb25zIjogWwogICAgewogICAgICAic3JjIjogIkFCbG9nby5qcGVnIiwKICAgICAgInNpemVzIjogIjUxMng1MTIiLAogICAgICAidHlwZSI6ICJpbWFnZS9qcGVnIgogICAgfQogIF0KfQ=="></head>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Vazirmatn:wght@400;700&display=swap');
        body { font-family: 'Vazirmatn', sans-serif; background-color: #f8fafc; padding-bottom: 140px; }
        .modal-overlay { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(8px); }
        /* Ø´Ø§Ø±Ø¯Ù†Û•ÙˆÛ•ÛŒ Ø¨Û•Ø´Û•Ú©Ø§Ù† Ù¾ÛØ´ Ù„ÛØ¯Ø§Ù†ÛŒ Ù¾Ø§Ø³ÙˆÛ†Ø±Ø¯ */
        #mainContent { display: none; }
    </style>
</head>
<body>

<div id="loginOverlay" class="fixed inset-0 z-[200] bg-slate-900 flex items-center justify-center p-6">
    <div class="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-sm text-center">
        <h2 class="text-2xl font-bold mb-6 text-slate-800">Ø¯Ø§Ø®ÚµØ¨ÙˆÙˆÙ†ÛŒ Ù¾Ø§Ø±ÛØ²Ø±Ø§Ùˆ</h2>
        <input type="password" id="passInput" placeholder="Ù¾Ø§Ø³ÙˆÛ†Ø±Ø¯ Ø¨Ù†ÙˆØ³Û•..." class="w-full p-4 border-2 border-slate-100 rounded-2xl outline-none focus:border-blue-500 mb-4 text-center text-lg">
        <button onclick="checkPassword()" class="w-full bg-blue-600 text-white py-4 rounded-2xl font-bold shadow-lg hover:bg-blue-700 transition">Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•</button>
        <p id="errorMsg" class="text-red-500 text-sm mt-4 hidden">Ù¾Ø§Ø³ÙˆÛ†Ø±Ø¯Û•Ú©Û• Ù‡Û•ÚµÛ•ÛŒÛ•!</p>
    </div>
</div>

<div id="mainContent">
    <div id="notificationArea" class="fixed top-5 right-5 z-[60] w-64 md:w-72 space-y-2"></div>

    <div class="max-w-5xl mx-auto p-4 md:p-8">
        <div class="flex flex-col md:flex-row justify-between items-center mb-8 bg-white p-6 rounded-3xl shadow-sm gap-4">
            <div class="text-center md:text-right">
                <h1 class="text-xl md:text-2xl font-bold text-slate-800">Ø³Û•Ø±Û†Ú©ÛŒ Ù‚Û•Ø±Ø¯Ø§Ø±Û•Ú©Ø§Ù† ğŸš€</h1>
                <p class="text-xs text-slate-400">Ø¨Û•Ø®ÛØ±Ù‡Ø§ØªÛŒ Ù‡Û•ÛŒ Ù‚Û•Ø±Ø¯Ø§Ø±</p>
            </div>
            <button onclick="Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_Ù…Û†Ø¯ÛÙ„('addModal')" class="bg-blue-600 hover:bg-blue-700 text-white px-8 py-3 rounded-2xl font-bold shadow-lg transition-all active:scale-95 w-full md:w-auto">
                ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù‚Û•Ø±Ø²ÛŒ Ù†ÙˆÛ +
            </button>
        </div>

        <div class="grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-8">
            <div class="bg-white p-4 rounded-2xl shadow-sm border-r-4 border-red-500">
                <p class="text-[10px] text-slate-500 font-bold uppercase">Ù‚Û•Ø±Ø²Ø¯Ø§Ø±Ù… (IQD)</p>
                <h3 id="oweIQD" class="text-base md:text-lg font-bold text-red-600 tracking-wide">0</h3>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-sm border-r-4 border-red-400">
                <p class="text-[10px] text-slate-500 font-bold uppercase">Ù‚Û•Ø±Ø²Ø¯Ø§Ø±Ù… ($)</p>
                <h3 id="oweUSD" class="text-base md:text-lg font-bold text-red-600 tracking-wide">0</h3>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-sm border-r-4 border-green-500">
                <p class="text-[10px] text-slate-500 font-bold uppercase">Ø¯Ø§ÙˆØ§Ú©Ø§Ø±Ù… (IQD)</p>
                <h3 id="recIQD" class="text-base md:text-lg font-bold text-green-600 tracking-wide">0</h3>
            </div>
            <div class="bg-white p-4 rounded-2xl shadow-sm border-r-4 border-green-400">
                <p class="text-[10px] text-slate-500 font-bold uppercase">Ø¯Ø§ÙˆØ§Ú©Ø§Ø±Ù… ($)</p>
                <h3 id="recUSD" class="text-base md:text-lg font-bold text-green-600 tracking-wide">0</h3>
            </div>
        </div>

        <div id="debtList" class="grid grid-cols-1 md:grid-cols-2 gap-4 md:gap-6"></div>
    </div>

    <div class="fixed bottom-0 left-0 right-0 bg-white/80 backdrop-blur-md border-t border-slate-200 p-4 flex justify-center gap-3 md:gap-4 shadow-2xl z-50">
        <button onclick="Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_ÙˆØ§Ø³ÚµÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù†('IQD')" class="bg-emerald-600 text-white flex-1 max-w-[180px] py-2 md:py-3 rounded-xl font-bold text-[10px] md:text-sm flex flex-col items-center">
            <span>ÙˆØ§Ø³ÚµÚ©Ø±Ø§ÙˆÛŒ Ø¯ÛŒÙ†Ø§Ø±</span>
            <span id="totalPaidIQDLabel" class="opacity-80">0 IQD</span>
        </button>
        <button onclick="Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_ÙˆØ§Ø³ÚµÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù†('USD')" class="bg-amber-500 text-white flex-1 max-w-[180px] py-2 md:py-3 rounded-xl font-bold text-[10px] md:text-sm flex flex-col items-center">
            <span>ÙˆØ§Ø³ÚµÚ©Ø±Ø§ÙˆÛŒ Ø¯Û†Ù„Ø§Ø±</span>
            <span id="totalPaidUSDLabel" class="opacity-80">0 $</span>
        </button>
    </div>
</div>

<div id="addModal" class="hidden fixed inset-0 modal-overlay flex items-center justify-center p-4 z-[100]">
    <div class="bg-white rounded-[2.5rem] p-6 w-full max-w-lg shadow-2xl overflow-y-auto max-h-[90vh]">
        <h2 class="text-xl font-bold mb-4 border-b pb-2">ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø¯Ù†ÛŒ Ù‚Û•Ø±Ø²</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            <div class="md:col-span-2">
                <input type="text" id="pName" placeholder="Ù†Ø§ÙˆÛŒ Ú©Û•Ø³Û•Ú©Û•" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none focus:ring-2 focus:ring-blue-500">
            </div>
            <div>
                <input type="text" id="pAmount" placeholder="Ø¨Ú•ÛŒ Ù¾Ø§Ø±Û•" oninput="this.value = this.value.replace(/[^0-9]/g, '')" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none">
            </div>
            <div>
                <select id="pCurrency" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none">
                    <option value="IQD">Ø¯ÛŒÙ†Ø§Ø± (IQD)</option>
                    <option value="USD">Ø¯Û†Ù„Ø§Ø± ($)</option>
                </select>
            </div>
            <div>
                <select id="pType" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none">
                    <option value="owe">Ù…Ù† Ù‚Û•Ø±Ø²Ø§Ø±ÛŒ Ø¦Û•ÙˆÙ…</option>
                    <option value="rec">Ø¦Û•Ùˆ Ù‚Û•Ø±Ø²Ø§Ø±ÛŒ Ù…Ù†Û•</option>
                </select>
            </div>
            <div>
                <input type="date" id="pDueDate" class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none">
            </div>
            <div class="md:col-span-2">
                <textarea id="pNote" placeholder="ØªÛØ¨ÛŒÙ†ÛŒ..." class="w-full p-4 bg-slate-50 border border-slate-200 rounded-2xl outline-none" rows="2"></textarea>
            </div>
        </div>
        <div class="flex gap-3 mt-6 font-bold">
            <button onclick="Ø®Û•Ø²Ù†Ú©Ø±Ø¯Ù†()" class="flex-1 bg-blue-600 text-white py-4 rounded-2xl shadow-lg">Ø®Û•Ø²Ù†Ú©Ø±Ø¯Ù†</button>
            <button onclick="Ø¯Ø§Ø®Ø³ØªÙ†ÛŒ_Ù…Û†Ø¯ÛÙ„('addModal')" class="flex-1 bg-slate-100 text-slate-500 py-4 rounded-2xl">Ù„Ø§Ø¨Ø±Ø¯Ù†</button>
        </div>
    </div>
</div>

<div id="historyModal" class="hidden fixed inset-0 modal-overlay flex items-center justify-center p-4 z-[110]">
    <div class="bg-white rounded-[2.5rem] p-6 w-full max-w-lg max-h-[80vh] overflow-hidden flex flex-col shadow-2xl">
        <h2 id="historyTitle" class="text-xl font-bold mb-4 border-b pb-2 italic text-slate-700">Ù…ÛÚ˜ÙˆÙˆ</h2>
        <div id="historyContent" class="overflow-y-auto space-y-2 flex-grow pr-2"></div>
        <button onclick="Ø¯Ø§Ø®Ø³ØªÙ†ÛŒ_Ù…Û†Ø¯ÛÙ„('historyModal')" class="w-full mt-4 bg-slate-900 text-white py-4 rounded-2xl font-bold">Ø¯Ø§Ø®Ø³ØªÙ†</button>
    </div>
</div>

<script>
    const CORRECT_PASS = "Ab2026";
    let debts = JSON.parse(localStorage.getItem('debts_final_secure')) || [];

    // ÙÛ•Ù†Ú©Ø´Ù†ÛŒ Ù¾Ø§Ø³ÙˆÛ†Ø±Ø¯
    function checkPassword() {
        const input = document.getElementById('passInput').value;
        if(input === CORRECT_PASS) {
            document.getElementById('loginOverlay').classList.add('hidden');
            document.getElementById('mainContent').style.display = 'block';
            render();
        } else {
            document.getElementById('errorMsg').classList.remove('hidden');
            setTimeout(() => document.getElementById('errorMsg').classList.add('hidden'), 2000);
        }
    }

    // Ú•ÛÚ¯Û•Ø¯Ø§Ù† Ø¨Û• Ø¨Û•Ú©Ø§Ø±Ù‡ÛÙ†Ø§Ù†ÛŒ Ø¯ÙˆÚ¯Ù…Û•ÛŒ Enter Ø¨Û† Ú†ÙˆÙˆÙ†Û• Ú˜ÙˆÙˆØ±Û•ÙˆÛ•
    document.getElementById('passInput').addEventListener('keypress', function (e) {
        if (e.key === 'Enter') checkPassword();
    });

    function Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_Ù…Û†Ø¯ÛÙ„(id) { document.getElementById(id).classList.remove('hidden'); }
    function Ø¯Ø§Ø®Ø³ØªÙ†ÛŒ_Ù…Û†Ø¯ÛÙ„(id) { document.getElementById(id).classList.add('hidden'); }

    function Ø®Û•Ø²Ù†Ú©Ø±Ø¯Ù†() {
        const name = document.getElementById('pName').value;
        const amount = parseFloat(document.getElementById('pAmount').value);
        const currency = document.getElementById('pCurrency').value;
        const type = document.getElementById('pType').value;
        const dueDate = document.getElementById('pDueDate').value;
        const note = document.getElementById('pNote').value;

        if(!name || isNaN(amount) || !dueDate) return alert("ØªÚ©Ø§ÛŒÛ• Ù‡Û•Ù…ÙˆÙˆ Ø®Ø§Ù†Û•Ú©Ø§Ù† Ù¾Ú• Ø¨Ú©Û•Ø±Û•ÙˆÛ•");

        const item = {
            id: Date.now(), name, amount, currency, type, dueDate, note,
            paid: 0, history: [], createdAt: new Date().toLocaleDateString('ku-IQ')
        };
        debts.push(item);
        save();
        Ø¯Ø§Ø®Ø³ØªÙ†ÛŒ_Ù…Û†Ø¯ÛÙ„('addModal');
        clearInputs();
    }

    function Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ_Ø¨Ú•ÛŒ_Ù†ÙˆÛ(id) {
        const d = debts.find(x => x.id === id);
        const extra = prompt(`Ø¨Ú•ÛŒ Ù‚Û•Ø±Ø²ÛŒ Ù†ÙˆÛ Ø¨Û† (${d.name}) Ø²ÛŒØ§Ø¯ Ø¨Ú©Û•:`);
        if(extra && !isNaN(extra)) {
            d.amount += parseFloat(extra);
            d.note += ` | [ØªÛ†Ù…Ø§Ø±Ú©Ø±Ø§ÙˆÛŒ Ù†ÙˆÛ: +${extra} ${d.currency}]`;
            save();
        }
    }

    function Ø¨Ú•ÛŒ_ÙˆØ§Ø³ÚµÚ©Ø±Ø§Ùˆ(id) {
        const d = debts.find(x => x.id === id);
        const remain = d.amount - d.paid;
        const val = prompt(`Ø¨Ú•ÛŒ ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù† Ø¨Û† (${d.name}):\nÙ…Ø§ÙˆÛ•: ${remain.toLocaleString()} ${d.currency}`);
        if(val && !isNaN(val) && val > 0 && val <= remain) {
            d.paid += parseFloat(val);
            d.history.push({ amount: parseFloat(val), date: new Date().toLocaleString('ku-IQ'), note: "ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛŒ Ø¨Û•Ø´ÛÚ©" });
            save();
        }
    }

    function ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛŒ_Ú©Ø§Ù…Ù„(id) {
        const d = debts.find(x => x.id === id);
        const remain = d.amount - d.paid;
        if(remain <= 0) return;
        if(confirm(`Ø¦Ø§ÛŒØ§ Ø¯ÚµÙ†ÛŒØ§ÛŒ Ù„Û• ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛŒ Ù‡Û•Ù…ÙˆÙˆ Ù‚Û•Ø±Ø²Û•Ú©Û•ØŸ`)) {
            d.paid += remain;
            d.history.push({ amount: remain, date: new Date().toLocaleString('ku-IQ'), note: "ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛŒ Ú©Ø§Ù…Ù„" });
            save();
        }
    }

    function Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_Ù…ÛÚ˜ÙˆÙˆÛŒ_Ú©Û•Ø³(id) {
        const d = debts.find(x => x.id === id);
        const content = document.getElementById('historyContent');
        document.getElementById('historyTitle').innerText = `Ù…ÛÚ˜ÙˆÙˆÛŒ (${d.name})`;
        content.innerHTML = d.history.length ? '' : '<p class="text-center py-10 opacity-50 italic">Ù‡ÛŒÚ† ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛÚ© Ù†ÛŒÛŒÛ•</p>';
        d.history.forEach(h => {
            content.innerHTML += `<div class="bg-slate-50 p-4 rounded-2xl border mb-2 flex justify-between items-center"><div class="text-green-600 font-bold text-sm">${h.amount.toLocaleString()} ${d.currency}</div><div class="text-[10px] font-bold text-slate-400">${h.date}</div></div>`;
        });
        Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_Ù…Û†Ø¯ÛÙ„('historyModal');
    }

    function Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_ÙˆØ§Ø³ÚµÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù†(curr) {
        const content = document.getElementById('historyContent');
        document.getElementById('historyTitle').innerText = `Ú¯Ø´Øª ÙˆØ§Ø³ÚµÚ©Ø±Ø§ÙˆÛ•Ú©Ø§Ù†ÛŒ (${curr})`;
        content.innerHTML = '';
        let count = 0;
        debts.forEach(d => {
            if(d.currency === curr) {
                d.history.forEach(h => {
                    count++;
                    content.innerHTML += `<div class="bg-slate-50 p-4 rounded-2xl border mb-2 flex justify-between"><div><p class="font-bold text-sm">${d.name}</p><p class="text-[10px] text-slate-400 font-bold">${h.date}</p></div><div class="text-green-600 font-bold">${h.amount.toLocaleString()}</div></div>`;
                });
            }
        });
        if(count === 0) content.innerHTML = '<p class="text-center py-10 opacity-50 italic">Ù‡ÛŒÚ† Ø¯Ø§ØªØ§ÛŒÛ•Ú© Ù†ÛŒÛŒÛ•</p>';
        Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_Ù…Û†Ø¯ÛÙ„('historyModal');
    }

    function Ø³Ú•ÛŒÙ†Û•ÙˆÛ•(id) { if(confirm("Ø¯ÚµÙ†ÛŒØ§ÛŒØŸ")) { debts = debts.filter(x => x.id !== id); save(); } }

    function save() {
        localStorage.setItem('debts_final_secure', JSON.stringify(debts));
        render();
    }

    function render() {
        const list = document.getElementById('debtList');
        const notesArea = document.getElementById('notificationArea');
        list.innerHTML = ''; notesArea.innerHTML = '';
        let totals = { oweIQD: 0, oweUSD: 0, recIQD: 0, recUSD: 0, paidIQD: 0, paidUSD: 0 };
        const todayStr = new Date().toISOString().split('T')[0];

        debts.forEach(d => {
            const remain = d.amount - d.paid;
            const progress = (d.paid / d.amount) * 100;
            if(d.type === 'owe') totals[d.currency === 'IQD' ? 'oweIQD' : 'oweUSD'] += remain;
            else totals[d.currency === 'IQD' ? 'recIQD' : 'recUSD'] += remain;
            totals[d.currency === 'IQD' ? 'paidIQD' : 'paidUSD'] += d.paid;

            if(d.dueDate <= todayStr && remain > 0) {
                notesArea.innerHTML += `<div class="bg-red-600 text-white p-4 rounded-2xl shadow-xl text-[10px] font-bold animate-bounce border-r-4 border-red-900">â° Ú©Ø§ØªÛŒ (${d.name}) Ù‡Ø§ØªÙˆÙˆÛ•!</div>`;
            }

            list.innerHTML += `
                <div class="bg-white p-5 md:p-6 rounded-[2.5rem] shadow-sm border border-slate-100 flex flex-col justify-between hover:shadow-md transition">
                    <div>
                        <div class="flex justify-between items-start mb-4">
                            <div>
                                <h4 class="font-bold text-slate-800 text-base md:text-lg">${d.name}</h4>
                                <span class="text-[10px] font-bold px-2 py-0.5 rounded-full ${d.type==='owe'?'bg-red-50 text-red-500':'bg-green-50 text-green-500'}">${d.type==='owe'?'Ù…Ù† Ù‚Û•Ø±Ø²Ø§Ø±Ù…':'Ø¦Û•Ùˆ Ù‚Û•Ø±Ø²Ø§Ø±Û•'}</span>
                            </div>
                            <div class="text-left font-bold text-slate-700">${remain.toLocaleString()} <span class="text-[10px] font-normal opacity-50">${d.currency}</span></div>
                        </div>
                        <div class="text-[10px] text-slate-400 mb-4 bg-slate-50 p-3 rounded-2xl">
                            <p class="font-bold mb-1">ğŸ”” Ø¨Û•Ø±ÙˆØ§Ø±ÛŒ Ø¯Ø§Ù†Û•ÙˆÛ•: ${d.dueDate}</p>
                            <p class="italic line-clamp-2">ğŸ“ ${d.note || 'ØªÛØ¨ÛŒÙ†ÛŒ Ù†ÛŒÛŒÛ•'}</p>
                        </div>
                    </div>
                    <div class="w-full bg-slate-100 h-2 rounded-full mb-5 overflow-hidden"><div class="h-full bg-blue-500 transition-all duration-700" style="width:${progress}%"></div></div>
                    <div class="grid grid-cols-2 gap-2">
                        <button onclick="Ø¨Ú•ÛŒ_ÙˆØ§Ø³ÚµÚ©Ø±Ø§Ùˆ(${d.id})" class="bg-slate-900 text-white py-3 rounded-xl text-[10px] font-bold active:scale-95 transition">Ø¨Ú•ÛŒ ÙˆØ§Ø³ÚµÚ©Ø±Ø§Ùˆ</button>
                        <button onclick="ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛŒ_Ú©Ø§Ù…Ù„(${d.id})" class="bg-emerald-600 text-white py-3 rounded-xl text-[10px] font-bold active:scale-95 transition">ÙˆØ§Ø³ÚµÚ©Ø±Ø¯Ù†ÛŒ Ú©Ø§Ù…Ù„</button>
                        <button onclick="Ø²ÛŒØ§Ø¯Ú©Ø±Ø¯Ù†ÛŒ_Ø¨Ú•ÛŒ_Ù†ÙˆÛ(${d.id})" class="bg-blue-50 text-blue-600 py-3 rounded-xl text-[10px] font-bold active:scale-95 transition">+ Ù‚Û•Ø±Ø²ÛŒ Ù†ÙˆÛ</button>
                        <button onclick="Ù¾ÛŒØ´Ø§Ù†Ø¯Ø§Ù†ÛŒ_Ù…ÛÚ˜ÙˆÙˆÛŒ_Ú©Û•Ø³(${d.id})" class="bg-slate-100 text-slate-600 py-3 rounded-xl text-[10px] font-bold active:scale-95 transition">Ù…ÛÚ˜ÙˆÙˆ</button>
                    </div>
                    <button onclick="Ø³Ú•ÛŒÙ†Û•ÙˆÛ•(${d.id})" class="mt-4 text-[10px] text-slate-300 hover:text-red-500 font-bold uppercase tracking-widest">Ø³Ú•ÛŒÙ†Û•ÙˆÛ•ÛŒ ØªÛ†Ù…Ø§Ø±Û•Ú©Û•</button>
                </div>`;
        });

        document.getElementById('oweIQD').innerText = totals.oweIQD.toLocaleString() + " IQD";
        document.getElementById('oweUSD').innerText = totals.oweUSD.toLocaleString() + " $";
        document.getElementById('recIQD').innerText = totals.recIQD.toLocaleString() + " IQD";
        document.getElementById('recUSD').innerText = totals.recUSD.toLocaleString() + " $";
        document.getElementById('totalPaidIQDLabel').innerText = totals.paidIQD.toLocaleString() + " IQD";
        document.getElementById('totalPaidUSDLabel').innerText = totals.paidUSD.toLocaleString() + " $";
    }

    function clearInputs() { 
        document.getElementById('pName').value = ''; document.getElementById('pAmount').value = ''; 
        document.getElementById('pNote').value = ''; document.getElementById('pDueDate').value = ''; 
    }
</script>
</body>
</html>
